{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Rooms | RUPP Room Booking System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'UserPage/css/featureRoom.css' %}">
    <script src="{% static 'UserPage/js/featureRoom.js' %}" defer></script>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo">
            <img src="https://upload.wikimedia.org/wikipedia/km/e/ee/Rupp_logo.png?20090803154844" alt="RUPP Logo">
            <div>Royal University of Phnom Penh</div>
        </div>

        <div class="nav">
            <a href="{% url 'accounts:user_dashboard' %}" class="nav-item">Home</a>
            <a href="{% url 'accounts:booking' %}" class="nav-item">Booking</a>
            <a href="{% url 'accounts:booked' %}" class="nav-item">Booked</a>
            <a href="{% url 'accounts:view_rooms' %}" class="nav-item active">View Rooms</a>
            <a href="{% url 'accounts:setting' %}" class="nav-item">Setting</a>
            <a href="{% url 'accounts:about_us' %}" class="nav-item">About us</a>
            <a href="{% url 'accounts:service' %}" class="nav-item">Service</a>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h2>Available Rooms</h2>
            <p>Browse all available rooms for booking</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container">
        <h2 class="section-title">Available Rooms</h2>
        
        <!-- Search and Filter -->
        <div class="search-filter">
            <div class="filter-row">
                <div class="filter-group">
                    <label for="room-type">Room Type</label>
                    <select id="room-type">
                        <option value="">All Types</option>
                        <option value="conference">Conference Room</option>
                        <option value="classroom">Classroom</option>
                        <option value="lab">Laboratory</option>
                        <option value="auditorium">Auditorium</option>
                        <option value="library">Library Room</option>
                        <option value="study">Study Room</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="capacity">Minimum Capacity</label>
                    <select id="capacity">
                        <option value="">Any Size</option>
                        <option value="10">10+ people</option>
                        <option value="20">20+ people</option>
                        <option value="30">30+ people</option>
                        <option value="50">50+ people</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="search">Search</label>
                    <input type="text" id="search" placeholder="Search rooms...">
                </div>
            </div>
        </div>

        <!-- Rooms Grid -->
        <div class="rooms-grid">
            {% for room in rooms %}
            <div class="room-card" data-type="{{ room.room_type }}" data-capacity="{{ room.capacity }}">
                <div class="room-header">
                    <h3>{{ room.name }}</h3>
                    <span class="room-status available">Available</span>
                </div>
                <div class="room-info">
                    <div class="info-item">
                        <i class="bi bi-geo-alt"></i>
                        <span>{{ room.room_number }}</span>
                    </div>
                    <div class="info-item">
                        <i class="bi bi-people"></i>
                        <span>{{ room.capacity }} people</span>
                    </div>
                    <div class="info-item">
                        <i class="bi bi-bookmark"></i>
                        <span>{{ room.get_room_type_display|default:room.room_type|capfirst }}</span>
                    </div>
                    {% if room.description %}
                    <div class="info-item">
                        <i class="bi bi-info-circle"></i>
                        <span>{{ room.description }}</span>
                    </div>
                    {% endif %}
                    {% if room.equipment %}
                    <div class="info-item">
                        <i class="bi bi-tools"></i>
                        <span>{{ room.equipment }}</span>
                    </div>
                    {% endif %}
                </div>
                <div class="room-actions">
                    <a href="{% url 'accounts:booking' %}?building={{ room.building|default:'Building A' }}&room={{ room.room_number }}&room_id={{ room.id }}&date={{ today|date:'Y-m-d' }}" class="btn btn-primary">
                        <i class="bi bi-calendar-plus"></i> Book Now
                    </a>
                </div>
            </div>
            {% empty %}
            <div class="no-rooms">
                <i class="bi bi-house-door"></i>
                <h3>No rooms available</h3>
                <p>There are currently no rooms available for booking.</p>
            </div>
            {% endfor %}
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Royal University of Phnom Penh</h4>
                    <p>Room Booking System</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="{% url 'accounts:user_dashboard' %}">Home</a></li>
                        <li><a href="{% url 'accounts:booking' %}">Book Room</a></li>
                        <li><a href="{% url 'accounts:booked' %}">My Bookings</a></li>
                        <li><a href="{% url 'accounts:about_us' %}">About Us</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="{% url 'accounts:service' %}">Contact Support</a></li>
                        <li><a href="{% url 'accounts:setting' %}">Settings</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Royal University of Phnom Penh. All rights reserved.</p>
            </div>
        </div>
    </footer>
</body>
</html>
